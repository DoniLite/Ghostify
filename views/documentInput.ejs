<%- include('components/rawHeader.ejs') %>
<div class="max-w-md mx-auto my-10 p-6 bg-white rounded-lg">
  <h2 class="text-xl font-semibold text-gray-800 text-center mb-4">
    Uploader un Document
  </h2>
  <form id="uploadForm" class="space-y-4">
    <!-- Zone de dépôt de fichiers -->
    <label for="fileInput" class="block w-full cursor-pointer">
      <div
        class="flex items-center justify-center h-40 border-2 border-dashed rounded-lg hover:bg-gray-50 transition-colors duration-300"
      >
        <span class="text-gray-400"
          >Glissez ou sélectionnez un fichier ici</span
        >
      </div>
      <input
        id="fileInput"
        type="file"
        class="hidden"
        accept=".pdf,.doc,.docx,.jpg,.png"
      />
    </label>

    <!-- Informations sur le fichier sélectionné -->
    <div
      id="fileInfo"
      class="hidden p-3 bg-gray-100 rounded-lg text-gray-700 space-y-2"
    >
      <p><strong>Nom :</strong> <span id="fileName"></span></p>
      <p><strong>Taille :</strong> <span id="fileSize"></span> KB</p>
      <p><strong>Type :</strong> <span id="fileType"></span></p>
    </div>

    <!-- Bouton de soumission -->
    <button
      type="submit"
      class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none"
    >
      Uploader
    </button>
  </form>
</div>

<script nonce="<%= locals.cspNonce %>">
  // Fonction pour gérer le changement de fichier
  function handleFileChange(event) {
    const file = event.target.files[0];
    if (file) {
      // Affiche les informations sur le fichier sélectionné
      document.getElementById('fileName').textContent = file.name;
      document.getElementById('fileSize').textContent = (
        file.size / 1024
      ).toFixed(2);
      document.getElementById('fileType').textContent = file.type;
      document.getElementById('fileInfo').classList.remove('hidden');
    }
  }

  document
    .querySelector('#fileInput')
    .addEventListener('change', handleFileChange);
</script>
<%- include('components/rawFooter.ejs') %>
